name: PR Gates
on: [pull_request]

jobs:
   enforce-bom:
      # Job-level permissions (explicit per docs). Minimal scopes only.
      permissions:
         contents: read
         checks: write
         pull-requests: write
      runs-on: ubuntu-latest
      steps:
         - name: Checkout repository
           uses: actions/checkout@93cb6efe18208431cddfb8368fd83d5badbf9bfd  # TAGS-SHA-PIN: actions/checkout@v5.0.1 (2025-11-13)
           with:
              token: ${{ secrets.GITHUB_TOKEN }}
              fetch-depth: 0

         - name: Setup Python
           uses: actions/setup-python@83679a892e2d95755f2dac6acb0bfd1e9ac5d548  # TAGS-SHA-PIN: actions/setup-python@v6.1.0 (2025-11-24)
           with:
              python-version: "3.12"

         - name: Setup Node
           uses: actions/setup-node@395ad3262231945c25e8478fd5baf05154b1d79f  # TAGS-SHA-PIN: actions/setup-node@v6.1.0 (2025-12-03)
           with:
              node-version: "22"

         - name: Enforce versions
           uses: ./.github/actions/enforce-versions
